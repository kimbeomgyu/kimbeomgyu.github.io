{"data":{"site":{"siteMetadata":{"author":{"name":"kim beom gyu","contacts":{"twitter":"#"}},"disqusShortname":"","subtitle":"Pellentesque odio nisi, euismod in, pharetra a, ultricies in, diam. Sed arcu.","title":"Blog by kimbeomgyu","url":"https://lumen.netlify.com"}},"markdownRemark":{"id":"c9a75f02-5991-5c72-9fb5-74ee7f36ade2","html":"<h2 id=\"한-일\"><a href=\"#%ED%95%9C-%EC%9D%BC\" aria-label=\"한 일 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>한 일</h2>\n<h4 id=\"회원가입-db-저장하기\"><a href=\"#%ED%9A%8C%EC%9B%90%EA%B0%80%EC%9E%85-db-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0\" aria-label=\"회원가입 db 저장하기 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회원가입 DB 저장하기</h4>\n<h4 id=\"로그인-db-탐색하기\"><a href=\"#%EB%A1%9C%EA%B7%B8%EC%9D%B8-db-%ED%83%90%EC%83%89%ED%95%98%EA%B8%B0\" aria-label=\"로그인 db 탐색하기 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로그인 DB 탐색하기</h4>\n<h4 id=\"주소변경-db-변경하기\"><a href=\"#%EC%A3%BC%EC%86%8C%EB%B3%80%EA%B2%BD-db-%EB%B3%80%EA%B2%BD%ED%95%98%EA%B8%B0\" aria-label=\"주소변경 db 변경하기 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주소변경 DB 변경하기</h4>\n<h4 id=\"database-공부하기\"><a href=\"#database-%EA%B3%B5%EB%B6%80%ED%95%98%EA%B8%B0\" aria-label=\"database 공부하기 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>database 공부하기</h4>\n<hr>\n<h6 id=\"회원가입\"><a href=\"#%ED%9A%8C%EC%9B%90%EA%B0%80%EC%9E%85\" aria-label=\"회원가입 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>회원가입</h6>\n<p>처음에 회원가입을 만들면서 간단한 클라이언트 페이지를 만들고 시작했는데 fetch로 POST요청을 보내도 서버로 요청이 오고 응답도 잘 오는데 보내는것이 잘 되지 않았다. 1시간정도 해메다가 이유는 content-type이 바뀌질 않아서 요청이 가도 body를 읽을수가 없는 것이였다. 크롬 개발자 도구에 네트워크 탭을 잘 확인 해야겠다…</p>\n<p>이후에 postman으로 계속 회원가입을 만들었고, 그 다음 문제점은 DB에 넣고 중복을 체크하는 문제였다. 쿼리문 다음에 쿼리문을 넣는것이 잘 되지 않았고, 이것도 한두시간 헤메다가 결국 비동기 문제라는 것을 깨달았고, 비동기를 처리하기 위해 여러 방법을 찾았다.</p>\n<p>마지막에 해결한 것은 mysql2/promise 라는 모듈로 해결하였다. 기존 mysql npm모듈로는 async,await가 잘 먹지 않았는데, 검색 후에 mysql2로 바꾸니 잘 해결 되었다.</p>\n<p>중복체크를 하고 DB에 이미 존재하면 중복임을 전달해줬다.</p>\n<hr>\n<h6 id=\"로그인\"><a href=\"#%EB%A1%9C%EA%B7%B8%EC%9D%B8\" aria-label=\"로그인 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>로그인</h6>\n<p>사실 비동기문제가 처리 되면서 뒤는 매우 쉬웠다. DB안에 같은 아이디와 비밀번호가 존재하는지 확인하고 있으면 ok를 없으면 faild를 메세지로 전달해줬다.</p>\n<p>여기서에 문제점은 if문을 잘못설정 해주어서 서버가 끊겨버린다는 점이였다. 이 문제는 눈에 보여서 금방 if문만 변경해주고 해결했다.</p>\n<hr>\n<h6 id=\"주소변경\"><a href=\"#%EC%A3%BC%EC%86%8C%EB%B3%80%EA%B2%BD\" aria-label=\"주소변경 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주소변경</h6>\n<p>DB안에 유저네임을 확인하고 유저가 있으면 DB내용을 UPDATE 쿼리를 이용해 주소를 변경하였다.</p>\n<hr>\n<p>회원가입조차 못하고 있을때 매우 정신적으로 힘들었지만 조금이나마 원했던걸 이뤄서 만족스러웠다.</p>","fields":{"slug":"/posts/4/","tagSlugs":["/tag/database/","/tag/mysql/","/tag/project-1/"]},"frontmatter":{"date":"2019-02-06T21:09:25.111Z","description":"database/mysql을 공부했다 !","tags":["database","mysql","project-1"],"title":"TIL-0206"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/4/"}}